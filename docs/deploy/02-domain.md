# 02 — Подключение домена (DNS) к Timeweb

Сначала терминология (чтобы не запутаться):
- **Домен** — это `example.com`.
- **IP** — это адрес вида `185.XX.XX.XX`.

Когда говорят “привязать купленный IP”, обычно имеют в виду “привязать домен к хостингу через DNS”.
На Timeweb ты чаще всего **не “покупаешь IP” отдельно**, а используешь IP, который выдан твоему приложению/серверу, и указываешь его в DNS.

Полезные ссылки Timeweb:
- Домены/SSL в App Platform: https://timeweb.cloud/docs/apps/upravlenie-apps-v-paneli
- SSL (если делаешь вручную на VPS): https://timeweb.cloud/docs/ssl/installing-ssl

## 0) Что нужно заранее

- Домен куплен (любой регистратор)
- Ты можешь менять DNS записи у своего DNS‑провайдера (регистратор/Cloudflare/Timeweb DNS)
- У тебя уже есть:
  - либо приложение в Timeweb App Platform (см. [01-timeweb.md](01-timeweb.md))
  - либо VPS на Timeweb

## 1) Подключение домена к Timeweb App Platform

### Шаг 1 — добавить домен в панели Timeweb

Timeweb Cloud → твоё приложение → раздел “Домены/SSL” (название может отличаться) → **добавь домен** `example.com` (и при необходимости `www.example.com`).

### Шаг 2 — настроить DNS

Есть два нормальных пути — выбери один:

#### Вариант A (удобно) — DNS управляется в Timeweb

1) Добавь домен в Timeweb DNS (в панели доменов).
2) Пропиши NS сервера Timeweb у регистратора (если домен куплен не в Timeweb).
3) В панели DNS создай A‑запись и привяжи её к приложению (“привязать к сервису”).

#### Вариант B — DNS управляется не в Timeweb (Cloudflare/регистратор)

1) В панели App Platform посмотри **IP**, который выдан приложению.
2) У своего DNS‑провайдера создай записи:
   - `@` → `A` → `<IP приложения>`
   - `www` → либо `CNAME` на `@`, либо `A` на тот же IP

### Шаг 3 — дождаться SSL

После того как DNS указывает на Timeweb, сертификат (Let's Encrypt) обычно выпускается автоматически. Закладывай время на DNS‑пропагацию (часто 15–60 минут, иногда дольше).

## 2) Подключение домена к Timeweb VPS

1) В DNS укажи:
   - `@` → `A` → `<IP VPS>`
   - `www` → `CNAME` на `@` или `A` на `<IP VPS>`
2) На сервере настрой reverse proxy (nginx) и HTTPS (например, certbot/Let's Encrypt).

## 3) Если у тебя Cloudflare

Для первичной настройки домена лучше включить режим **DNS only** (без прокси), дождаться корректного SSL и ответа сайта, и только потом включать проксирование, если оно нужно.
